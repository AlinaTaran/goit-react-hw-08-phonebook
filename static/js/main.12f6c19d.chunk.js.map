{"version":3,"sources":["components/Navigation/Navigation.js","components/UserMenu/default-avatar.png","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/Container/Container.js","components/Loader/Loader.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/store.js","index.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","redux/auth/auth-slice.js","redux/contact/contacts-actions.js","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","components/UserMenu/UzerMenu.module.css","redux/contact/contacts-reducer.js","components/AppBar/AppBar.module.css","components/Container/Container.module.css","components/Loader/LoaderSpinner.module.css"],"names":["Navigation","isLoggedIn","useSelector","authSelectors","getIsLoggedIn","to","exact","className","s","link","activeClassName","activeLink","UserMenu","dispatch","useDispatch","name","getUsername","container","src","defaultAvatar","alt","width","avatar","Button","type","variant","size","onClick","authOperations","logOut","AuthNav","AppBar","header","Container","children","LoaderSpinner","wrapper","color","height","PrivateRoute","isAuthenticated","redirectTo","routeProps","PublicRoute","restricted","HomeView","lazy","RegisterView","LoginView","ContactsView","App","useEffect","fetchCurrentUser","fallback","Loader","path","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","rejectWithValue","post","data","response","status","alert","logIn","operations","_","thunkAPI","state","getState","persistedToken","get","user","getIsFetchingCurrent","isFetchingCurrentUser","authSlice","createSlice","initialState","email","extraReducers","fulfilled","action","payload","pending","rejected","fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","module","exports","items","createReducer","filter","id","combineReducers"],"mappings":"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","file":"static/js/main.12f6c19d.chunk.js","sourcesContent":["import { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport s from './Navigation.module.css';\r\n\r\nfunction Navigation() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <nav>\r\n      <NavLink to=\"/\" exact className={s.link} activeClassName={s.activeLink}>\r\n        Home\r\n      </NavLink>\r\n      {isLoggedIn && (\r\n        <NavLink\r\n          to=\"/contacts\"\r\n          exact\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Contacts\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/default-avatar.cc266fe1.png\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport defaultAvatar from './default-avatar.png';\r\nimport s from './UzerMenu.module.css';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(authSelectors.getUsername);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <img\r\n        src={defaultAvatar}\r\n        alt=\"Default Avatar\"\r\n        width=\"32\"\r\n        className={s.avatar}\r\n      />\r\n      <span className={s.name}>Welcome, {name}</span>\r\n      <Button\r\n        type=\"button\"\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        onClick={() => dispatch(authOperations.logOut())}\r\n      >\r\n        Log out\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        exact\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Sign up\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        exact\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Log in\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from './Container.module.css';\r\n\r\nconst Container = ({ children }) => (\r\n  <div className={s.Container}>{children}</div>\r\n);\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node,\r\n};\r\n\r\nexport default Container;\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from './LoaderSpinner.module.css';\r\n\r\nfunction LoaderSpinner() {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <Loader type=\"BallTriangle\" color=\"#8B008B\" height=\"40\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoaderSpinner;\r\n","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PrivateRoute({\r\n  isAuthenticated,\r\n  redirectTo,\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn ? children : <Redirect to={redirectTo} />}\r\n    </Route>\r\n  );\r\n}\r\n","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute({\r\n  isAuthenticated,\r\n  redirectTo,\r\n  children,\r\n  ...routeProps\r\n}) {\r\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\r\n\r\n  return (\r\n    <Route {...routeProps}>\r\n      {isLoggedIn && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        children\r\n      )}\r\n    </Route>\r\n  );\r\n}\r\n","import { useEffect, lazy, Suspense } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Switch } from 'react-router-dom';\n\nimport AppBar from './components/AppBar/AppBar';\nimport Container from './components/Container';\nimport LoaderSpinner from './components/Loader';\n\nimport { authOperations } from './redux/auth';\n\nimport PrivateRoute from './components/PrivateRoute';\nimport PublicRoute from './components/PublicRoute';\n\nconst HomeView = lazy(() =>\n  import('./views/HomeView' /* webpackChunkName: \"home-view\" */),\n);\n\nconst RegisterView = lazy(() =>\n  import('./views/RegisterView' /* webpackChunkName: \"register-view\" */),\n);\nconst LoginView = lazy(() =>\n  import('./views/LoginView' /* webpackChunkName: \"login-view\" */),\n);\nconst ContactsView = lazy(() =>\n  import('./views/ContactsView' /* webpackChunkName: \"contacts-view\" */),\n);\n\n// const UploadView = lazy(() =>\n//   import('./views/NotFoundView' /* webpackChunkName: \"not-found-view\" */),\n// );\n\nexport default function App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  return (\n    <Container>\n      <AppBar />\n      <Suspense fallback={<LoaderSpinner />}>\n        <Switch>\n          <PublicRoute path=\"/\" exact>\n            <HomeView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/register\" restricted redirectTo=\"/contacts\">\n            <RegisterView />\n          </PublicRoute>\n\n          <PublicRoute path=\"/login\" restricted redirectTo=\"/contacts\">\n            <LoginView />\n          </PublicRoute>\n\n          <PrivateRoute path=\"/contacts\" redirectTo=\"/login\">\n            <ContactsView />\n          </PrivateRoute>\n        </Switch>\n      </Suspense>\n    </Container>\n  );\n}\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nimport contactsReducer from './contact/contacts-reducer';\r\nimport { authReducer } from './auth';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport { store, persistor } from './redux/store';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = createAsyncThunk(\r\n  'auth/register',\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/signup', credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      if (error.response.status === 400) {\r\n        alert('Creation error, please try again!');\r\n      } else if (error.response.status === 500) {\r\n        alert('Server error, please try later!');\r\n      } else {\r\n        alert('Whoops, something went wrong');\r\n      }\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nconst logIn = createAsyncThunk(\r\n  'auth/login',\r\n  async (credentials, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/login', credentials);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nconst logOut = createAsyncThunk(\r\n  'auth/logout',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post('/users/logout');\r\n      token.unset();\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nconst fetchCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, thunkAPI) => {\r\n    const state = thunkAPI.getState();\r\n    const persistedToken = state.auth.token;\r\n\r\n    if (persistedToken === null) {\r\n      return thunkAPI.rejectWithValue();\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nconst operations = {\r\n  register,\r\n  logOut,\r\n  logIn,\r\n  fetchCurrentUser,\r\n};\r\nexport default operations;\r\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\n\r\nconst getIsFetchingCurrent = state => state.auth.isFetchingCurrentUser;\r\n\r\nconst authSelectors = {\r\n  getIsLoggedIn,\r\n  getUsername,\r\n  getIsFetchingCurrent,\r\n};\r\nexport default authSelectors;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport authOperations from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: null, email: null },\r\n  token: null,\r\n  isLoggedIn: false,\r\n  isFetchingCurrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [authOperations.register.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logIn.fulfilled](state, action) {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [authOperations.logOut.fulfilled](state) {\r\n      state.user = { name: null, email: null };\r\n      state.token = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.pending](state) {\r\n      state.isFetchingCurrentUser = true;\r\n    },\r\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n    [authOperations.fetchCurrentUser.rejected](state) {\r\n      state.isFetchingCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  'contacts/fetchContactsRequest',\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  'contacts/fetchContactsSuccess',\r\n);\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction(\r\n  'contacts/deleteContactRequest',\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  'contacts/deleteContactSuccess',\r\n);\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3XmXh\",\"activeLink\":\"Navigation_activeLink___ZdhI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__1bTWT\",\"activeLink\":\"AuthNav_activeLink__2jJId\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UzerMenu_container__1NAxQ\",\"avatar\":\"UzerMenu_avatar__1J56G\",\"name\":\"UzerMenu_name__1z2Lm\"};","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n  addContactRequest,\r\n  addContactSuccess,\r\n  addContactError,\r\n  deleteContactSuccess,\r\n  deleteContactError,\r\n  deleteContactRequest,\r\n  changeFilter,\r\n  fetchContactsRequest,\r\n  fetchContactsSuccess,\r\n  fetchContactsError,\r\n} from './contacts-actions';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1z1bY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3te6y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LoaderSpinner_wrapper__B6DF1\"};"],"sourceRoot":""}